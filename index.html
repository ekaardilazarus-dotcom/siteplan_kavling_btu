<!DOCTYPE html>
<html lang="id">
<head>
  <meta charset="UTF-8">
  <meta http-equiv="Cache-Control" content="no-cache, no-store, must-revalidate">
  <meta http-equiv="Pragma" content="no-cache">
  <meta http-equiv="Expires" content="0">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>DATA BTU MALANG</title>
  <link rel="stylesheet" href="css/style.css?v=5">
</head>
<body>

  <h1>DATA KAVLING DAN SERTIFIKAT BTU KNC MALANG</h1>

  <!-- CONTAINER TOMBOL DI KIRI -->
  <div id="button-container">
    <button id="resetZoom">Lihat Semua Area</button>
    <button id="searchByCertificate" class="cert-btn">
      <span>ğŸ“‹</span>
      Cari berdasarkan Sertifikat
    </button>
  </div>

  <!-- CONTAINER TOMBOL STATUS DI KANAN (BARU) -->
  <div id="status-container">
    <button id="statusKavling" class="status-btn">
      <span>ğŸ¨</span>
      Status Kavling
    </button>
  </div>

  <!-- PANEL STATISTIK STATUS (BARU - AWALNYA DISEMBUNYIKAN) -->
  <div id="statusPanel" class="status-panel">
    <div class="status-panel-header">
      <h3>ğŸ“Š Statistik Status Kavling</h3>
      <button class="close-status-panel">&times;</button>
    </div>
    <div class="status-panel-body">
      <div class="status-item">
        <div class="status-color-sample" style="background-color: #ff4444;"></div>
        <div class="status-info">
          <span class="status-title">KPR (Terjadwal)</span>
          <span class="status-count" id="countKPR">0</span>
        </div>
        <button class="download-btn" data-type="kpr">ğŸ“¥ Download</button>
      </div>
      <div class="status-item">
        <div class="status-color-sample" style="background-color: #4444ff;"></div>
        <div class="status-info">
          <span class="status-title">STOK</span>
          <span class="status-count" id="countSTOK">0</span>
        </div>
        <button class="download-btn" data-type="stok">ğŸ“¥ Download</button>
      </div>
      <div class="status-item">
        <div class="status-color-sample" style="background-color: #ff44ff;"></div>
        <div class="status-info">
          <span class="status-title">REKOM</span>
          <span class="status-count" id="countREKOM">0</span>
        </div>
        <button class="download-btn" data-type="rekom">ğŸ“¥ Download</button>
      </div>
      <div class="status-item">
        <div class="status-color-sample" style="background-color: #44ffff;"></div>
        <div class="status-info">
          <span class="status-title">DISEWAKAN</span>
          <span class="status-count" id="countDISEWAKAN">0</span>
        </div>
        <button class="download-btn" data-type="disewakan">ğŸ“¥ Download</button>
      </div>
      <div class="status-total">
        <strong>Total Kavling: <span id="totalAll">0</span></strong>
      </div>
    </div>
    <div class="status-panel-footer">
      <small>* KPR: Skema KPR & ada tanggal serah terima</small>
    </div>
  </div>

  <!-- SEARCH BOX DI KANAN -->
  <div id="search-container">
    <div class="search-row">
      <input id="search" placeholder="Cari kavling..." disabled>
    </div>
    <ul id="search-results"></ul>
  </div>
  
  <!-- POPUP HASIL KAVLING (AKAN DITAMBAHKAN OLEH JS) -->
  <div id="kavlingPopupContainer"></div>

  <!-- Map container -->
  <div id="map"></div>

  <!-- MODAL PENCARIAN SERTIFIKAT -->
  <div id="certificateModal" class="modal">
    <div class="modal-content">
      <div class="modal-header">
        <h3>ğŸ” Pencarian Berdasarkan Sertifikat</h3>
        <button class="close-modal">&times;</button>
      </div>
      
      <div class="modal-body modal-compact-layout">
        <!-- KOLOM KIRI: Input Pencarian -->
        <div class="input-column">
          <!-- Sertifikat Induk -->
          <div class="input-group">
            <h4><span>ğŸ“œ</span> Sertifikat Induk</h4>
            <input type="text" id="certInduk" placeholder="Contoh: B.4462" class="compact-input">
            <button id="searchInduk" class="compact-search-btn">
              <span>ğŸ”</span> Cari Induk
            </button>
          </div>
          
          <!-- NAMA PEMILIK LAMA -->
          <div class="input-group">
            <h4><span>ğŸ‘´</span> Nama Pemilik Lama / EX</h4>
            <input type="text" id="certExOwner" placeholder="Contoh: NAMA LAMA / PEMILIK SEBELUMNYA" class="compact-input">
            <button id="searchExOwner" class="compact-search-btn">
              <span>ğŸ”</span> Cari Pemilik Lama
            </button>
          </div>
          
          <!-- SHGB -->
          <div class="input-group">
            <h4><span>ğŸ“„</span> SHGB</h4>
            <input type="text" id="certSHGB" placeholder="Contoh: B.00350" class="compact-input">
            <button id="searchSHGB" class="compact-search-btn">
              <span>ğŸ“„</span> Cari SHGB
            </button>
          </div>
          
          <!-- SHM -->
          <div class="input-group">
            <h4><span>ğŸ </span> SHM</h4>
            <input type="text" id="certSHM" placeholder="Contoh: 12.06.000000510.0" class="compact-input">
            <button id="searchSHM" class="compact-search-btn">
              <span>ğŸ”</span> Cari SHM
            </button>
          </div>
          
          <!-- Nama SHM -->
          <div class="input-group">
            <h4><span>ğŸ‘¤</span> Nama SHM</h4>
            <input type="text" id="certNamaSHM" placeholder="Contoh: UMANG GIANTO" class="compact-input">
            <button id="searchNamaSHM" class="compact-search-btn">
              <span>ğŸ‘¤</span> Cari Nama
            </button>
          </div>
        </div>
        
        <!-- KOLOM KANAN: Hasil Pencarian -->
        <div class="results-column">
          <div class="results-header">
            <h4>Hasil Pencarian</h4>
            <button id="clearAll" class="clear-results-btn">
              <span>ğŸ—‘ï¸</span> Bersihkan
            </button>
          </div>
          <div id="certificateResults" class="compact-results-box">
            <p class="placeholder">
              Hasil pencarian akan ditampilkan di sini...
            </p>
          </div>
        </div>
      </div>
      
      <div class="modal-footer">
        <button id="closeModal" class="primary-btn">Tutup</button>
      </div>
    </div>
  </div>

  <script src="js/script.js?v=5"></script>
</body>
</html>
